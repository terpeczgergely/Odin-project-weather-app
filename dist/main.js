(()=>{const e=document.getElementById("weather-type"),t=document.getElementById("weather-location"),n=document.getElementById("weather-location-time"),o=document.getElementById("weather-degree"),a=document.getElementById("weather-degree-display"),r=document.getElementById("weather-type-icon"),c=document.getElementById("feelslike-degree"),d=document.getElementById("humidity-percentage"),i=document.getElementById("wind-direction-value"),m=document.getElementById("wind-speed-value"),s=document.getElementById("search-location"),y=document.getElementById("error");let l="Budapest",u=!0;const h="81dee91ab1544b219b0214517240503";async function p(){try{const s=await fetch(`https://api.weatherapi.com/v1/current.json?key=${h}&q=${l}`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});if(!l)throw new Error("No location specified");if(!s.ok)throw y.innerHTML="Location was not found!",new Error("Network response was not ok");const p=await s.json();let f=p.current.condition.text;return e.innerHTML=f,t.innerHTML=`${p.location.name}, ${p.location.country}`,n.innerHTML=`${p.location.localtime}`,u?(o.innerHTML=`${p.current.temp_c} C°`,a.innerHTML="Displaying temperature in C° <br> (click on degree to change)",c.innerHTML=`${p.current.feelslike_c} C°`):(o.innerHTML=`${p.current.temp_f} F°`,a.innerHTML="Displaying temperature in F° <br> (click on degree to change)",c.innerHTML=`${p.current.feelslike_f} F°`),r.src=`https:${p.current.condition.icon}`,r.alt=f,d.innerHTML=`${p.current.humidity} %`,i.innerHTML=`${p.current.wind_dir} `,m.innerHTML=`${p.current.wind_kph} km/h`,p}catch(e){throw console.error("There was a problem with the fetch operation:",e),e}}async function f(){try{const t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=${h}&q=${l}&days=7`,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}}),n=await t.json();console.log(n);for(let t=0;t<7;t++){document.getElementById(`dayName${t}`).innerHTML=(e=n.forecast.forecastday[t].date,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e).getDay()]);const o=document.getElementById(`dayMaxTemp${t}`),a=document.getElementById(`dayMinTemp${t}`),r=document.getElementById(`dayWeatherTypeImg${t}`);r.src=`https:${n.forecast.forecastday[t].day.condition.icon}`,r.alt=n.forecast.forecastday[t].day.condition.text,u?(o.innerHTML=` ${n.forecast.forecastday[t].day.maxtemp_c} C° max `,a.innerHTML=` ${n.forecast.forecastday[t].day.mintemp_c} C° min `):(o.innerHTML=` ${n.forecast.forecastday[t].day.maxtemp_f} F° max `,a.innerHTML=` ${n.forecast.forecastday[t].day.mintemp_f} F min `)}return n}catch(e){throw console.error("There was a problem with the fetch operation:",e),e}var e}s.addEventListener("blur",(function(){l=this.value,function(e){return!!e}(l)?(y.innerHTML="",p(),f()):(y.innerHTML="Location was not provided!",console.log("Failed to fetch weather, because location is missing"))})),p(),async function(){const e=document.getElementById("weather-data-weekly");for(let t=0;t<7;t++){const n=document.createElement("div"),o=document.createElement("h2"),a=document.createElement("h1"),r=document.createElement("h4"),c=document.createElement("img");o.id=`dayName${t}`,n.id=`day${t}`,a.id=`dayMaxTemp${t}`,r.id=`dayMinTemp${t}`,c.id=`dayWeatherTypeImg${t}`,n.append(o,a,r,c),e.appendChild(n)}}(),f(),o.addEventListener("click",(()=>{u=!u,p(),f()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUU0sT0FBT0osRUFBU0MsRUFBWUMsRUFBV2YsR0FDL0NVLEVBQXlCUSxZQUFZUCxFQUN2QyxDQUNGLENBdENBUSxHQUNBOUIsSUF1Q0EzQyxFQUFxQjRELGlCQUFpQixTQUFTLEtBQ1hsRCxHQUEvQkEsRUFDREcsSUFDQThCLEdBQW1CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZXMvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgd2VhdGhlclR5cGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWF0aGVyLXR5cGVcIik7XHJcbmNvbnN0IHdlYXRoZXJMb2NhdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlYXRoZXItbG9jYXRpb25cIik7XHJcbmNvbnN0IHdlYXRoZXJMb2NhdGlvblRpbWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWF0aGVyLWxvY2F0aW9uLXRpbWVcIik7XHJcbmNvbnN0IHdlYXRoZXJEZWdyZWVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWF0aGVyLWRlZ3JlZVwiKTtcclxuY29uc3Qgd2VhdGhlckRlZ3JlZURpc3BsYXlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWF0aGVyLWRlZ3JlZS1kaXNwbGF5XCIpXHJcbmNvbnN0IHdlYXRoZXJUeXBlSWNvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2VhdGhlci10eXBlLWljb25cIik7XHJcbmNvbnN0IHdlYXRoZXJGZWVsc0xpa2VQZXJjZW50YWdlRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmVlbHNsaWtlLWRlZ3JlZVwiKTtcclxuY29uc3Qgd2VhdGhlckh1bWlkaXR5UGVyY2VudGFnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImh1bWlkaXR5LXBlcmNlbnRhZ2VcIik7XHJcbmNvbnN0IHdlYXRoZXJXaW5kRGlyZWN0aW9uRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luZC1kaXJlY3Rpb24tdmFsdWVcIik7XHJcbmNvbnN0IHdlYXRoZXJXaW5kU3BlZWRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3aW5kLXNwZWVkLXZhbHVlXCIpO1xyXG5jb25zdCBzZWFyY2hMb2NhdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaC1sb2NhdGlvblwiKVxyXG5jb25zdCBlcnJvckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVycm9yXCIpXHJcblxyXG5jb25zdCBkZWZhdWx0TG9jYXRpb24gPSBcIkJ1ZGFwZXN0XCJcclxubGV0IGxvY2F0aW9uID0gZGVmYXVsdExvY2F0aW9uO1xyXG5sZXQgaXNDZWxzaXVzID0gdHJ1ZTtcclxubGV0IGRheXNUb0NyZWF0ZSA9IDc7XHJcbmNvbnN0IGtleSA9IFwiODFkZWU5MWFiMTU0NGIyMTliMDIxNDUxNzI0MDUwM1wiO1xyXG5cclxuc2VhcmNoTG9jYXRpb25FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbigpIHtcclxuICAgIGxvY2F0aW9uID0gdGhpcy52YWx1ZVxyXG5cclxuICBpZiAodmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbikpIHtcclxuICAgIGVycm9yRWxlbWVudC5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICBmZXRjaERhdGEobG9jYXRpb24pO1xyXG4gICAgZmV0Y2hGb3JlY2FzdERhdGEobG9jYXRpb24pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlcnJvckVsZW1lbnQuaW5uZXJIVE1MID0gXCJMb2NhdGlvbiB3YXMgbm90IHByb3ZpZGVkIVwiXHJcbiAgICBjb25zb2xlLmxvZyhcIkZhaWxlZCB0byBmZXRjaCB3ZWF0aGVyLCBiZWNhdXNlIGxvY2F0aW9uIGlzIG1pc3NpbmdcIilcclxuICB9XHJcbiAgXHJcbn0pO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvY3VycmVudC5qc29uP2tleT0ke2tleX0mcT0ke2xvY2F0aW9ufWAsIHtcclxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgIG1vZGU6ICdjb3JzJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcbiAgXHJcbiAgICAgIGlmICghbG9jYXRpb24pIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGxvY2F0aW9uIHNwZWNpZmllZCcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmlubmVySFRNTCA9IFwiTG9jYXRpb24gd2FzIG5vdCBmb3VuZCFcIlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTmV0d29yayByZXNwb25zZSB3YXMgbm90IG9rJyk7XHJcbiAgICAgIH1cclxuICBcclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgbGV0IHdlYXRoZXJUeXBlID0gZGF0YS5jdXJyZW50LmNvbmRpdGlvbi50ZXh0O1xyXG4gICAgIHdlYXRoZXJUeXBlRWxlbWVudC5pbm5lckhUTUwgPSB3ZWF0aGVyVHlwZTtcclxuICAgICB3ZWF0aGVyTG9jYXRpb25FbGVtZW50LmlubmVySFRNTCA9IGAke2RhdGEubG9jYXRpb24ubmFtZX0sICR7ZGF0YS5sb2NhdGlvbi5jb3VudHJ5fWA7XHJcbiAgICAgd2VhdGhlckxvY2F0aW9uVGltZUVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5sb2NhdGlvbi5sb2NhbHRpbWV9YFxyXG4gICAgIGlmICghaXNDZWxzaXVzKXsgXHJcbiAgICAgICAgd2VhdGhlckRlZ3JlZUVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5jdXJyZW50LnRlbXBfZn0gRsKwYFxyXG4gICAgICAgIHdlYXRoZXJEZWdyZWVEaXNwbGF5RWxlbWVudC5pbm5lckhUTUwgPSBgRGlzcGxheWluZyB0ZW1wZXJhdHVyZSBpbiBGwrAgPGJyPiAoY2xpY2sgb24gZGVncmVlIHRvIGNoYW5nZSlgXHJcbiAgICAgICAgd2VhdGhlckZlZWxzTGlrZVBlcmNlbnRhZ2VFbGVtZW50LmlubmVySFRNTCA9IGAke2RhdGEuY3VycmVudC5mZWVsc2xpa2VfZn0gRsKwYFxyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2VhdGhlckRlZ3JlZUVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5jdXJyZW50LnRlbXBfY30gQ8KwYFxyXG4gICAgICAgIHdlYXRoZXJEZWdyZWVEaXNwbGF5RWxlbWVudC5pbm5lckhUTUwgPSBcIkRpc3BsYXlpbmcgdGVtcGVyYXR1cmUgaW4gQ8KwIDxicj4gKGNsaWNrIG9uIGRlZ3JlZSB0byBjaGFuZ2UpXCJcclxuICAgICAgICB3ZWF0aGVyRmVlbHNMaWtlUGVyY2VudGFnZUVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5jdXJyZW50LmZlZWxzbGlrZV9jfSBDwrBgXHJcbiAgICAgfVxyXG4gICAgIFxyXG4gICAgIHdlYXRoZXJUeXBlSWNvbi5zcmMgPSBgaHR0cHM6JHtkYXRhLmN1cnJlbnQuY29uZGl0aW9uLmljb259YFxyXG4gICAgIHdlYXRoZXJUeXBlSWNvbi5hbHQgPSB3ZWF0aGVyVHlwZVxyXG4gICAgIHdlYXRoZXJIdW1pZGl0eVBlcmNlbnRhZ2VFbGVtZW50LmlubmVySFRNTCA9IGAke2RhdGEuY3VycmVudC5odW1pZGl0eX0gJWBcclxuICAgICB3ZWF0aGVyV2luZERpcmVjdGlvbkVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5jdXJyZW50LndpbmRfZGlyfSBgXHJcbiAgICAgd2VhdGhlcldpbmRTcGVlZEVsZW1lbnQuaW5uZXJIVE1MID0gYCR7ZGF0YS5jdXJyZW50LndpbmRfa3BofSBrbS9oYCAgXHJcbiAgICAgIC8vIFByb2Nlc3MgdGhlIEpTT04gZGF0YVxyXG4gICAgICAvL2NvbnNvbGUubG9nKGRhdGEpO1xyXG4gIFxyXG4gICAgICByZXR1cm4gZGF0YTsgLy8gUmV0dXJuIHRoZSBmZXRjaGVkIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gd2l0aCB0aGUgZmV0Y2ggb3BlcmF0aW9uOicsIGVycm9yKTtcclxuICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciB0byBwcm9wYWdhdGUgaXQgZnVydGhlciBpZiBuZWVkZWRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoRm9yZWNhc3REYXRhKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkud2VhdGhlcmFwaS5jb20vdjEvZm9yZWNhc3QuanNvbj9rZXk9JHtrZXl9JnE9JHtsb2NhdGlvbn0mZGF5cz03YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgbW9kZTogJ2NvcnMnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF5c1RvQ3JlYXRlOyBpKyspIHtcclxuICAgICAgICBjb25zdCBkYXlOYW1lRmlsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkYXlOYW1lJHtpfWApXHJcbiAgICAgICAgZGF5TmFtZUZpbGwuaW5uZXJIVE1MID0gZ2V0RGF5TmFtZShkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmRhdGUpXHJcbiAgICAgICAgY29uc3QgZGF5TWF4VGVtcEZpbGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZGF5TWF4VGVtcCR7aX1gKVxyXG4gICAgICAgIGNvbnN0IGRheU1pblRlbXBGaWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGRheU1pblRlbXAke2l9YClcclxuICAgICAgICBjb25zdCBkYXlXZWF0aGVyVHlwZUltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBkYXlXZWF0aGVyVHlwZUltZyR7aX1gKVxyXG4gICAgICAgIGRheVdlYXRoZXJUeXBlSW1nLnNyYyA9IGBodHRwczoke2RhdGEuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5LmNvbmRpdGlvbi5pY29ufWBcclxuICAgICAgICBkYXlXZWF0aGVyVHlwZUltZy5hbHQgPSBkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmRheS5jb25kaXRpb24udGV4dFxyXG4gICAgICAgIGlmIChpc0NlbHNpdXMpe1xyXG4gICAgICAgIGRheU1heFRlbXBGaWxsLmlubmVySFRNTCA9IGAgJHtkYXRhLmZvcmVjYXN0LmZvcmVjYXN0ZGF5W2ldLmRheS5tYXh0ZW1wX2N9IEPCsCBtYXggYDtcclxuICAgICAgICBkYXlNaW5UZW1wRmlsbC5pbm5lckhUTUwgPSBgICR7ZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWludGVtcF9jfSBDwrAgbWluIGBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZGF5TWF4VGVtcEZpbGwuaW5uZXJIVE1MID0gYCAke2RhdGEuZm9yZWNhc3QuZm9yZWNhc3RkYXlbaV0uZGF5Lm1heHRlbXBfZn0gRsKwIG1heCBgXHJcbiAgICAgICAgICBkYXlNaW5UZW1wRmlsbC5pbm5lckhUTUwgPSBgICR7ZGF0YS5mb3JlY2FzdC5mb3JlY2FzdGRheVtpXS5kYXkubWludGVtcF9mfSBGIG1pbiBgXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBkYXRhOyAvLyBSZXR1cm4gdGhlIGZldGNoZWQgZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSB3aXRoIHRoZSBmZXRjaCBvcGVyYXRpb246JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdGhlIGVycm9yIHRvIHByb3BhZ2F0ZSBpdCBmdXJ0aGVyIGlmIG5lZWRlZFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbmZldGNoRGF0YSgpXHJcbmNyZWF0ZUZvcmFjYXN0RGF5RWxlbWVudHMoKVxyXG5mZXRjaEZvcmVjYXN0RGF0YSgpXHJcblxyXG5mdW5jdGlvbiBnZXREYXlOYW1lKGRhdGVTdHJpbmcpIHtcclxuICAvLyBDcmVhdGUgYSBuZXcgRGF0ZSBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQgZGF0ZSBzdHJpbmdcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XHJcbiAgXHJcbiAgLy8gQXJyYXkgb2YgZGF5IG5hbWVzXHJcbiAgY29uc3QgZGF5c09mV2VlayA9IFsnU3VuZGF5JywgJ01vbmRheScsICdUdWVzZGF5JywgJ1dlZG5lc2RheScsICdUaHVyc2RheScsICdGcmlkYXknLCAnU2F0dXJkYXknXTtcclxuICBcclxuICAvLyBHZXQgdGhlIGRheSBpbmRleCAoMCBmb3IgU3VuZGF5LCAxIGZvciBNb25kYXksIC4uLiwgNiBmb3IgU2F0dXJkYXkpXHJcbiAgY29uc3QgZGF5SW5kZXggPSBkYXRlLmdldERheSgpO1xyXG4gIFxyXG4gIC8vIFJldHVybiB0aGUgY29ycmVzcG9uZGluZyBkYXkgbmFtZVxyXG4gIHJldHVybiBkYXlzT2ZXZWVrW2RheUluZGV4XTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbil7XHJcbiByZXR1cm4gbG9jYXRpb24gPyB0cnVlIDogZmFsc2U7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUZvcmFjYXN0RGF5RWxlbWVudHMoKXtcclxuXHJcbiAgY29uc3Qgd2VhdGhlckRhdGFXZWVrbHlFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3ZWF0aGVyLWRhdGEtd2Vla2x5XCIpXHJcbiAgZm9yKGxldCBpPTA7IGkgPCBkYXlzVG9DcmVhdGU7IGkrKyl7XHJcbiAgICBjb25zdCBkYXlzRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgIGNvbnN0IGRheU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpXHJcbiAgICBjb25zdCBkYXlNYXhUZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKVxyXG4gICAgY29uc3QgZGF5TWluVGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g0JylcclxuICAgIGNvbnN0IGRheVdlYXRoZXJUeXBlSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcclxuICAgIGRheU5hbWUuaWQgPSBgZGF5TmFtZSR7aX1gO1xyXG4gICAgZGF5c0Rpdi5pZCA9IGBkYXkke2l9YDtcclxuICAgIGRheU1heFRlbXAuaWQgPSBgZGF5TWF4VGVtcCR7aX1gO1xyXG4gICAgZGF5TWluVGVtcC5pZCA9IGBkYXlNaW5UZW1wJHtpfWA7XHJcbiAgICBkYXlXZWF0aGVyVHlwZUltZy5pZCA9YGRheVdlYXRoZXJUeXBlSW1nJHtpfWBcclxuICAgIGRheXNEaXYuYXBwZW5kKGRheU5hbWUsIGRheU1heFRlbXAsIGRheU1pblRlbXAsZGF5V2VhdGhlclR5cGVJbWcpO1xyXG4gICAgd2VhdGhlckRhdGFXZWVrbHlFbGVtZW50LmFwcGVuZENoaWxkKGRheXNEaXYpXHJcbiAgfVxyXG59XHJcblxyXG53ZWF0aGVyRGVncmVlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xyXG4gICAgIWlzQ2Vsc2l1cyA/IGlzQ2Vsc2l1cyA9IHRydWUgOiBpc0NlbHNpdXMgPSBmYWxzZTtcclxuICAgIGZldGNoRGF0YSgpO1xyXG4gICAgZmV0Y2hGb3JlY2FzdERhdGEoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxufSlcclxuXHJcbiJdLCJuYW1lcyI6WyJ3ZWF0aGVyVHlwZUVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwid2VhdGhlckxvY2F0aW9uRWxlbWVudCIsIndlYXRoZXJMb2NhdGlvblRpbWVFbGVtZW50Iiwid2VhdGhlckRlZ3JlZUVsZW1lbnQiLCJ3ZWF0aGVyRGVncmVlRGlzcGxheUVsZW1lbnQiLCJ3ZWF0aGVyVHlwZUljb24iLCJ3ZWF0aGVyRmVlbHNMaWtlUGVyY2VudGFnZUVsZW1lbnQiLCJ3ZWF0aGVySHVtaWRpdHlQZXJjZW50YWdlRWxlbWVudCIsIndlYXRoZXJXaW5kRGlyZWN0aW9uRWxlbWVudCIsIndlYXRoZXJXaW5kU3BlZWRFbGVtZW50Iiwic2VhcmNoTG9jYXRpb25FbGVtZW50IiwiZXJyb3JFbGVtZW50IiwibG9jYXRpb24iLCJpc0NlbHNpdXMiLCJrZXkiLCJhc3luYyIsImZldGNoRGF0YSIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJtb2RlIiwiaGVhZGVycyIsIkVycm9yIiwib2siLCJpbm5lckhUTUwiLCJkYXRhIiwianNvbiIsIndlYXRoZXJUeXBlIiwiY3VycmVudCIsImNvbmRpdGlvbiIsInRleHQiLCJuYW1lIiwiY291bnRyeSIsImxvY2FsdGltZSIsInRlbXBfYyIsImZlZWxzbGlrZV9jIiwidGVtcF9mIiwiZmVlbHNsaWtlX2YiLCJzcmMiLCJpY29uIiwiYWx0IiwiaHVtaWRpdHkiLCJ3aW5kX2RpciIsIndpbmRfa3BoIiwiZXJyb3IiLCJjb25zb2xlIiwiZmV0Y2hGb3JlY2FzdERhdGEiLCJsb2ciLCJpIiwiZGF0ZVN0cmluZyIsImZvcmVjYXN0IiwiZm9yZWNhc3RkYXkiLCJkYXRlIiwiRGF0ZSIsImdldERheSIsImRheU1heFRlbXBGaWxsIiwiZGF5TWluVGVtcEZpbGwiLCJkYXlXZWF0aGVyVHlwZUltZyIsImRheSIsIm1heHRlbXBfYyIsIm1pbnRlbXBfYyIsIm1heHRlbXBfZiIsIm1pbnRlbXBfZiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwidmFsdWUiLCJ2YWxpZGF0ZUxvY2F0aW9uIiwid2VhdGhlckRhdGFXZWVrbHlFbGVtZW50IiwiZGF5c0RpdiIsImNyZWF0ZUVsZW1lbnQiLCJkYXlOYW1lIiwiZGF5TWF4VGVtcCIsImRheU1pblRlbXAiLCJpZCIsImFwcGVuZCIsImFwcGVuZENoaWxkIiwiY3JlYXRlRm9yYWNhc3REYXlFbGVtZW50cyJdLCJzb3VyY2VSb290IjoiIn0=